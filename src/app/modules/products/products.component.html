<!-- Loader Overlay -->
<div *ngIf="loading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="flex flex-col items-center">
    <svg class="animate-spin h-10 w-10 text-white mb-3" xmlns="http://www.w3.org/2000/svg" fill="none"
      viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"></path>
    </svg>
    <p class="text-white text-sm">Loading products...</p>
  </div>
</div>


<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4">
  <div *ngFor="let product of products"
    class="group relative w-full bg-white rounded-md overflow-hidden cursor-pointer">
    <!-- Image Wrapper -->
    <div class="relative w-full" (click)="productDetails(product)">
      <img [src]="getImageUrl(product.imageUrls[0])" [alt]="product.title" class="w-full h-full object-cover" />

      <!-- Hover Overlay (Desktop only) -->

      <!-- Slide-up Info on Hover (Desktop only) -->
      <div
        class="hidden md:flex flex-col bg-[#5f5f5e] justify-end absolute bottom-0 left-0 w-full text-white px-4 py-3 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-in-out z-20">
        <div class="text-sm">{{ product.title }}</div>
        <div class="text-sm">Rs. {{ product.price | number : "1.0-2" }}</div>
      </div>
    </div>

    <!-- Mobile Info Section -->
    <div class="block md:hidden px-2 py-3">
      <h3 class="text-sm text-[#595858] leading-snug">
        {{ product.title }}
      </h3>
      <p class="text-sm text-gray-800">
        Rs. {{ product.price | number : "1.0-2" }}
      </p>
    </div>
  </div>
</div>