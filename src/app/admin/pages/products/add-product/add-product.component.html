<div class="max-w-4xl mx-auto p-6 bg-white  mt-6">
  <h2 class="text-2xl font-semibold text-gray-700 mb-6">Add New Product</h2>

  <form [formGroup]="addProductForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Product Title -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Product Title</label
      >
      <input
        type="text"
        formControlName="title"
        placeholder="Enter Product Title"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      />
    </div>

    <!-- SKU -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700">SKU</label>
      <input
        type="text"
        formControlName="sku"
        placeholder="Enter SKU"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      />
    </div>

    <!-- Price & Original Price -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Price</label
        >
        <input
          type="number"
          formControlName="price"
          placeholder="Enter Price"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>

      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Original Price</label
        >
        <input
          type="number"
          formControlName="originalPrice"
          placeholder="Enter Original Price"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
    </div>

    <!-- Discount -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Discount (%)</label
      >
      <input
        type="text"
        formControlName="discount"
        placeholder="Enter Discount"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      />
    </div>

    <!-- Sizes -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Sizes (comma separated)</label
      >
      <input
        type="text"
        formControlName="sizes"
        placeholder="e.g. S, M, L, XL"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      />
      <small class="text-gray-500">Write sizes separated by commas</small>
    </div>

    <!-- Description -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Description</label
      >
      <textarea
        rows="4"
        formControlName="description"
        placeholder="Write product description..."
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      ></textarea>
    </div>

    <!-- Extra Details -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Extra Details</label
      >
      <textarea
        rows="2"
        formControlName="extraDetails"
        placeholder="Any extra details..."
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      ></textarea>
    </div>

    <!-- Store Info -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Store Info</label
      >
      <textarea
        rows="2"
        formControlName="storeInfo"
        placeholder="Store specific info..."
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
      ></textarea>
    </div>

    <!-- Additional Info -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Warranty</label
        >
        <input
          type="text"
          formControlName="warranty"
          placeholder="e.g. 1 Year Warranty"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Manufacturer</label
        >
        <input
          type="text"
          formControlName="manufacturer"
          placeholder="e.g. Made in India"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
    </div>

    <!-- Shipping Info -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Delivery Time</label
        >
        <input
          type="text"
          formControlName="deliveryTime"
          placeholder="e.g. 5-7 days"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Shipping Charges</label
        >
        <input
          type="text"
          formControlName="shippingCharges"
          placeholder="e.g. 50 Rs."
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
    </div>

    <!-- Specifications -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Material</label
        >
        <input
          type="text"
          formControlName="material"
          placeholder="e.g. Cotton"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Origin</label
        >
        <input
          type="text"
          formControlName="origin"
          placeholder="e.g. India"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
      <div>
        <label class="block mb-2 text-sm font-medium text-gray-700"
          >Weight</label
        >
        <input
          type="text"
          formControlName="weight"
          placeholder="e.g. 200g"
          class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
      </div>
    </div>

    <!-- Upload Images -->
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-700"
        >Product Images</label
      >

      <input
        type="file"
        #fileInput
        (change)="onImageChange($event)"
        multiple
        accept="image/*"
        class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"
      />

      <p *ngIf="imageError" class="text-sm text-red-600 mt-2">
        {{ imageError }}
      </p>

      <!-- Preview -->
      <div *ngIf="imagePreviews.length > 0" class="flex flex-wrap gap-4 mt-4">
        <div
          *ngFor="let img of imagePreviews; let i = index"
          class="relative w-24 h-24 rounded-md overflow-hidden border"
        >
          <img [src]="img" alt="Preview" class="w-full h-full object-cover" />
          <button
            type="button"
            (click)="removeImage(i)"
            class="absolute top-1 right-1 w-5 h-5 flex items-center justify-center text-xs bg-red-600 text-white rounded-full hover:bg-red-700"
          >
            Ã—
          </button>
        </div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="pt-4">
      <button
        type="submit"
        [disabled]="addProductForm.invalid || loading"
        class="w-full flex justify-center items-center gap-2 bg-[#595858]  text-white  py-3 rounded-md focus:outline-none focus:ring-2 "
      >
        <span *ngIf="!loading">Submit Product</span>
        <svg
          *ngIf="loading"
          class="w-5 h-5 animate-spin"
          fill="none"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8v8z"
          ></path>
        </svg>
      </button>
    </div>
  </form>
</div>
